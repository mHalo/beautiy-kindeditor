<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>KindEditor Unittest</title>
		<!-- <script src="../lib/firebug-lite/build/firebug-lite.js#startOpened"></script> -->
        <script>window.rnd = function(){ return Math.random() }</script>
		<script src="../publish/dist/kindeditor-all.js"></script>
	</head>
	<body>
        <div id="wrapper" style="width: 90%;height: 500px;overflow-y:scroll;box-shadow: 0 0 30px #ccc;margin-top: 30vh;margin-left: 5vw;">
            <h1 id="qunit-header">KindEditor</h1>
            <div style="margin-left: 4vw;">
                <textarea  id="editor" cols="30" rows="10" style="width:90%;height:420px;;margin-left:15px;"></textarea>
            </div>
        </div>
		
	</body>
    <script>
        // 初始化编辑器
        KindEditor.ready(function (K) {
                var options = {
                    themesPath: '../themes/',
                    basePath:'../',
                    pluginsPath: '../plugins/',
                    resizeType: 1,
                    pasteType: 2,//0:禁止粘贴, 1:纯文本粘贴, 2:HTML粘贴
                    height: 200,
                    autoHeightMode: true,
                    fixToolBar: true,
                    fixToolBarWatchRef: '#wrapper',
                    allowPreviewEmoticons: false,
                    allowImageUpload: true,
                    allowFlashUpload: false,
                    formatUploadUrl: false,
                    allowFileManager: false,
                    uploadJson: '/handler/upload-test/',
                    uploadHeader:{
                        corefx: 'mhalo',
                        time: new Date() * 1
                    },
                    extraFileUploadParams:{
                        'paramA': 'A'
                    },
                    imageSizeLimit: '2MB',
                    items: K.Tools.All,
                    cssData: 'body{font-size: 16px;line-height: 28px;}',
                    afterBlur: function () {
                        this.sync();
                    }
                };
                var contentEditor = K.create('#editor', options);


                var html = Array.from({length: 50}).map(function(o,i){ return  '<p>'+ i +'</p>' }).join("")
                contentEditor.html(html);


            });
    </script>
</html>
